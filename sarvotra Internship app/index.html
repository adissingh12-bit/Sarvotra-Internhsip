<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VoicePay - Conversational Payments</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- ERROR HANDLER: This script catches errors if the app fails to load -->
    <script>
      window.addEventListener('error', function(event) {
        const root = document.getElementById('root');
        if (root) {
          // Check if we are seeing a module error
          const isModuleError = event.message && (event.message.includes('import') || event.message.includes('module'));
          
          root.innerHTML = `
            <div style="font-family: sans-serif; color: #ef4444; padding: 2rem; text-align: center; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center;">
              <h1 style="font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Application Error</h1>
              <p style="background: #fee2e2; padding: 1rem; border-radius: 0.5rem; display: inline-block; text-align: left; max-width: 600px;">
                <strong>Message:</strong> ${event.message || 'Unknown Error'}<br/>
                ${event.filename ? `<small style="display:block; margin-top:0.5rem">File: ${event.filename}</small>` : ''}
              </p>
              ${isModuleError ? '<p style="margin-top: 1rem; color: #4b5563;">This looks like a module loading error. Check your internet connection or the library versions in index.html.</p>' : ''}
            </div>
          `;
        }
      });
    </script>

    <style>
      body {
        font-family: 'Inter', sans-serif;
        background-color: #f3f4f6;
      }
      /* Custom scrollbar for transaction list */
      .scrollbar-hide::-webkit-scrollbar {
          display: none;
      }
      .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
      }

      /* Custom Animations */
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .animate-fade-in {
        animation: fadeIn 0.3s ease-out forwards;
      }
      
      @keyframes slideUp {
        from { transform: translateY(100%); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }
      .animate-slide-up {
        animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }

      @keyframes slideInRight {
        from { transform: translateX(100%); }
        to { transform: translateX(0); }
      }
      .animate-slide-in-right {
        animation: slideInRight 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.3.1",
    "react/": "https://esm.sh/react@18.3.1/",
    "react-dom": "https://esm.sh/react-dom@18.3.1",
    "react-dom/": "https://esm.sh/react-dom@18.3.1/",
    "react-dom/client": "https://esm.sh/react-dom@18.3.1/client",
    "@google/genai": "https://esm.sh/@google/genai@0.1.2"
  }
}
</script>
</head>
  <body>
    <div id="root">
        <!-- Default Loading State -->
        <div style="display: flex; height: 100vh; align-items: center; justify-content: center; color: #6b7280; flex-direction: column;">
            <div style="margin-bottom: 1rem;">
                <svg class="animate-spin" style="width: 2rem; height: 2rem; color: #4f46e5;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle style="opacity: 0.25;" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path style="opacity: 0.75;" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            </div>
            <span style="font-weight: 500;">Loading Sarvotra Pay...</span>
        </div>
    </div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
